<div class="error-history-container">
  <h2>Error History</h2>

  <div *ngIf="isLoading" class="loading-spinner">Loading...</div>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <table *ngIf="!isLoading && errors.length > 0" class="error-table">
    <thead>
    <tr>
      <th>Date</th>
      <th>Order ID</th>
      <th>Operation</th>
      <th>Message</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let error of errors">
      <td>{{ error.date }}</td> <!-- Handle null date -->
      <td>{{ error?.orderId || 'N/A' }}</td>
      <td>{{ error?.operation || 'N/A' }}</td>
      <td>{{ error.message }}</td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="!isLoading && totalPages > 1" class="pagination">
    <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 0">Previous</button>
    <span>Page {{ currentPage + 1 }} of {{ totalPages }}</span>
    <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage + 1 >= totalPages">Next</button>
  </div>

  <div *ngIf="!isLoading && errors.length === 0" class="no-errors">
    No errors found.
  </div>
</div>
